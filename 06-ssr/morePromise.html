<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    /* 
    有多个promise，怎么拿到所有的promise都结束后的结果
比如有两个色子，我想得到这两个色子的点数
     */
    //  使用promise
    function 摇色子(猜测) {
      return new Promise((resolve, reject) => {
        let sino = parseInt(Math.random() * 6 + 1)
        switch (猜测) {
          case '小':
            sino <= 3 ? resolve(sino) : reject(sino);
          case '大':
            sino > 3 ? resolve(sino) : reject(sino);
        }
        setTimeout(() => {
          resolve(sino)
        }, 300)
      })
    }
    Promise.all([摇色子('大'), 摇色子('大')]).then((x) => {
      // 所有都成功后的数组
      console.log("x", x)
    }, (y) => {
      // 失败的第一个
      console.log("y", y)
    })
    /* 
    promise.all里面跟一个数组，数组的每一项是一个返回promise的函数调用，then的第一个参数是所有的promise都成功后调用，拿到所有promise的结果是一个数组；第二个参数拿到的是第一个失败的值
     */
  </script>
</body>

</html>